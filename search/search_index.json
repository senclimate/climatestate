{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>Welcome to ClimateState!</p> <ul> <li>Documentation: https://senclimate.github.io/climatestate/</li> </ul> <p>ClimateState is a library designed for visualizing the state of climate in atmosphere and ocean. It goes beyond merely presenting figures; it also showcases the underlying code that generates these visual representations. This is particularly beneficial for students and researchers, as it offers a transparent view into the process of climate data visualization, thereby fostering an environment of transparency and educational growth in the realm of climate science.</p> <p>Under development note</p> <p>Please note that the library is currently under development, and as such, certain pages may be temporarily unavailable. Those sections will be updated soon.</p>"},{"location":"#why-create-climatestate-library","title":"Why Create ClimateState Library?","text":"<p>When I was a graduate student, I found climate atlases to be invaluable tools. They were beneficial not only for the rich materials and captivating visuals used in lectures by our professors but also as a reference point in my research endeavors. Since then, I would draw inspiration from their methods of illustration and colorbars. These atlases include:</p> <ul> <li> <p>ERA-40 Atlas provided by  ECMWF</p> </li> <li> <p>Atlas of Climate of Global Atmospheric Circulation I. Climatological Mean State by Prof. Jianping Li, who is my PhD supervisor.</p> </li> <li> <p>Climate Variability Diagnostics Package for Large Ensembles (CVDP-LE) developed by NCAR</p> <ul> <li>CESM1/2 Large Ensembles 1920-2100</li> <li>MMLEA 1950-2018</li> <li>MMLEA 2019-2099</li> <li>CMIP6 Historical/SSP585 1900-2100</li> </ul> </li> <li> <p>KNMI Climate Change Atlas</p> </li> <li> <p>IRI Climate and Society Map Room provided by IRI/LDEO</p> </li> <li> <p>U.S. Climate Atlas</p> </li> </ul> <p>These invaluable atlases, however, often lacked modern datasets or accessible code for in-depth analysis and replication of results. Recognizing this gap, I was motivated to create the ClimateState Library that powers climate visualizations.</p>"},{"location":"#features","title":"Features","text":"<p>To be added</p>"},{"location":"#creator","title":"Creator","text":"<p>Dr. Sen Zhao is the project creator and primary contributor. He is an Assistant Researcher at University of Hawaii at Manoa\u2019s Department of Atmospheric Science. More details refer to his work.</p>"},{"location":"#acknowledgments","title":"Acknowledgments","text":"<p>To be added</p>"},{"location":"Clim_precip/","title":"Precipitation","text":"<p>This notebook present the climatologies of precipitation</p> <pre><code># load basic library\n\n%config IPCompleter.greedy = True\n%matplotlib inline\n%config InlineBackend.figure_format='retina'\n%load_ext autoreload\n%autoreload 2\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\nimport numpy as np\nimport xarray as xr\nimport senpy as sp\n\nimport matplotlib.pyplot as plt\nplt.style.use('science')\n\n# load OISSTv2 SST over 1982-2022\nvar_ds = sp.OBS_onemodel_precip(model='cmap', vars=['precip'], time_slice=slice('1979-01', '2022-12'))['precip']\n\n# add cyclic point\nvar_ds = sp.add_cyclic_point(var_ds, dim='lon')\n\n# monthly climatology relative to 1991-2020 and anomalies\nvar_m = var_ds.clim.climatology(clim_slice=slice('1991-01', '2020-12')).load()\nvar_a = var_ds.clim.anomalies(clim_slice=slice('1991-01', '2020-12')).load()\n\n# annual mean climatology\nvar_ave_ann = var_m.mean('month')\n\n# anomlaies standard deviation\nvar_std_ann = var_a.std('time')\n\n# linear trend\nvar_trd_ann = var_ds.trendSig(dim='time', sigmask=False, siglvl=0.05)\n</code></pre>"},{"location":"Clim_precip/#precip-climatological-annual-average","title":"Precip climatological annual average","text":"<pre><code>var_ave_cdict = sp.cmap.dict_cmap_contourf(levels=np.array( [0.5, 1., 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]), name='precip_clim', extend='both') \n\nfig, ax = sp.map_subplots(1, 1, figsize=(10, 5), proj='robin', lon_0=200, aspect=1., layout='compressed')\n\nimag0 = ax.contourf(var_ave_ann.lon, var_ave_ann.lat, var_ave_ann, transform=sp.data_crs, **var_ave_cdict)\ncb = fig.colorbar(imag0, ax=[ax], location='right', shrink=0.9, pad=0.02)\ncb.set_label('mm/day')\ncb.set_ticks(var_ave_cdict['levels'])\ncb.ax.set_yticklabels([\"{:g}\".format(i) for i in cb.get_ticks()])\n\nsp.map_coastline(ax, color='black')\n# sp.map_landmask(ax, fc='white', alpha=0)\nsp.map_ticks(ax, lon_ticks=np.arange(20, 380, step=60) )\nax.set_title(\"Climatological Precipitation: 1991-2020\", fontsize=14, fontweight='bold')\n\n# Add dataset and map sources\nsource_text = \"\"\"\nSource credits: Precipitation data from CMAP, figure was created by @senclimate\n\"\"\"\nax.text(0.5, -0.2, source_text, transform=ax.transAxes, \n        fontsize=10, color='black', alpha=0.8, \n        ha='center', va='bottom', zorder=6);\n</code></pre>"},{"location":"Clim_precip/#precip-anomalies-standard-deviation","title":"Precip anomalies standard deviation","text":"<pre><code>var_std_cdict = sp.cmap.dict_cmap_contourf(levels=np.array([1., 1.5, 2., 2.5, 3, 3.5,  4, 5, 6]), name='Greens', extend='both', start=True) \n\nfig, ax = sp.map_subplots(1, 1, figsize=(10, 5), proj='robin', lon_0=200, aspect=1., layout='compressed')\n\nimag0 = ax.contourf(var_std_ann.lon, var_std_ann.lat, var_std_ann, transform=sp.data_crs, **var_std_cdict)\ncb = fig.colorbar(imag0, ax=[ax], location='right', shrink=0.9, pad=0.02)\ncb.set_label('mm/day')\n\nsp.map_coastline(ax, color='black')\n# sp.map_landmask(ax, fc='white', alpha=0)\nsp.map_ticks(ax, lon_ticks=np.arange(20, 380, step=60) )\nax.set_title(\"Precipitation Anomaly Standard Deviation: 1982-2022\", fontsize=14, fontweight='bold')\n\n# Add dataset and map sources\nsource_text = \"\"\"\nSource credits: Precipitation data from CMAP, figure was created by @senclimate\n\"\"\"\nax.text(0.5, -0.2, source_text, transform=ax.transAxes, \n        fontsize=10, color='black', alpha=0.8, \n        ha='center', va='bottom', zorder=6);\n</code></pre>"},{"location":"Clim_precip/#precip-linear-trends","title":"Precip linear trends","text":"<pre><code>var_trd_cdict = sp.cmap.dict_cmap_contourf(levels=np.arange(-0.8, 0.81, step=0.1), name='BrBG', extend='both')\n\nfig, ax = sp.map_subplots(1, 1, figsize=(10, 5), proj='robin', lon_0=200, aspect=1., layout='compressed')\n\nimag0 = ax.contourf(var_trd_ann.lon, var_trd_ann.lat, var_trd_ann['s']*120, transform=sp.data_crs, **var_trd_cdict)\ncb = fig.colorbar(imag0, ax=[ax], location='right', shrink=0.9, pad=0.02)\ncb.set_label('mm/day per decade')\n\nCS = ax.contourf(var_trd_ann.lon, var_trd_ann.lat, var_trd_ann['p'], transform=sp.data_crs, levels=[0, 0.05, 1], hatches=[\"\", \"...\"], alpha=0)\n\n\nsp.map_coastline(ax, color='black')\n# sp.map_landmask(ax, fc='white', alpha=0)\nsp.map_ticks(ax, lon_ticks=np.arange(20, 380, step=60) )\nax.set_title(\"Precipitation Trends: 1982-2022\", fontsize=14, fontweight='bold')\n\n# Add dataset and map sources\nsource_text = \"\"\"\nSource credits: Precipitation data from CMAP, figure was created by @senclimate\n\"\"\"\nax.text(0.5, -0.2, source_text, transform=ax.transAxes, \n        fontsize=10, color='black', alpha=0.8, \n        ha='center', va='bottom', zorder=6);\n</code></pre> <pre><code>\n</code></pre>"},{"location":"Clim_sfcwinds/","title":"Surface winds","text":"<p>This notebook present the climatology of surface winds</p> <pre><code># Load basic library for calculating and visualization\n\n%config IPCompleter.greedy = True\n%matplotlib inline\n%config InlineBackend.figure_format='retina'\n%load_ext autoreload\n%autoreload 2\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\nimport numpy as np\nimport xarray as xr\nimport senpy as sp\n\nimport matplotlib.pyplot as plt\nplt.style.use('science')\n\n# Load ERA5 reanalysis surface winds\nwind_ds = sp.ERA5_onelevel_vars(vars=['u10', 'v10'], time_slice=slice('1979-01', '2022-12'))\nwind_m  = wind_ds.clim.climatology(clim_slice=slice('1979-01', '2022-12')).mean('month').load()\n</code></pre>"},{"location":"Clim_sfcwinds/#plot-annual-mean-surface-wind-climatology","title":"plot annual mean surface wind climatology","text":"<pre><code>dlon = 10\ndlat = 5\n\nu = wind_m['u10'][::dlat, ::dlon]\nv = wind_m['v10'][::dlat, ::dlon]\n\nfig, ax = sp.map_subplots(1, 1, figsize=(10, 5), proj='robin', lon_0=200, aspect=1.2, layout='compressed')\n\nquiver_scale = 40        # 40 m/s corresponds to 1 inch on the plot\nquiver_key_length = 10   # The reference arrow in the legend represents 10 m/s\n\nQ = ax.quiver(u.lon, u.lat, u.values, v.values, scale=quiver_scale, scale_units='inches',\n              transform=sp.data_crs, pivot='middle', color='blue', zorder=5, alpha = 0.7)\n\n# Add a key to the plot to show vector scale\nqk = ax.quiverkey(Q, 0.95, 0.93, quiver_key_length, f\"{quiver_key_length} m/s\",  labelpos='N', coordinates='axes')\n\n# sp.map_coastline(ax, color='green')\nsp.map_landmask(ax, fc='white', alpha=0.1)\nsp.map_ticks(ax, lon_ticks=np.arange(20, 360, step=60) )\nax.set_title(\"Climatological surface winds and ocean currents\", fontsize=14, fontweight='bold')\n\n# overlayed image of ocean currents pattern credited from NASA images (ftp://public.sos.noaa.gov/oceans/)\nsp.map_background_img(ax, name='NASA_simple_currents')\n\n# Add dataset and map sources\nsource_text = \"\"\"\nSource credits: winds data from ERA5 reanalysis and background image from NASA images \ncreated by @senclimate\n\"\"\"\nax.text(0.5, -0.2, source_text, transform=ax.transAxes, \n        fontsize=10, color='black', alpha=0.8, \n        ha='center', va='bottom', zorder=6);\n</code></pre>"},{"location":"Clim_sfcwinds/#1-trade-winds","title":"1. Trade Winds","text":""},{"location":"Clim_sfcwinds/#north-and-south-equatorial-currents","title":"North and South Equatorial Currents","text":"<p>In the tropics, the prevailing winds are the easterly trade winds. These winds blow from east to west, driving the surface waters, which results in the formation of the North and South Equatorial Currents that flow in the same direction as the winds.</p>"},{"location":"Clim_sfcwinds/#equatorial-counter-current","title":"Equatorial Counter Current","text":"<ul> <li> <p>Coriolis Effect: Due to the Earth's rotation, moving fluids (like air and water) are deflected by the Coriolis effect. Near the equator, the Coriolis effect is weakest, which means water can pile up in the western part of ocean basins more than in the eastern part.</p> </li> <li> <p>Difference in Sea Level: Because of the consistent push of the trade winds and the Coriolis effect, the sea level in the western tropical oceans is higher than in the eastern tropical oceans. This creates a gradient, or a slope in the sea surface, from west to east.</p> </li> <li> <p>Return Flow: To balance the accumulation of water in the western tropics and the sea surface height difference, there is a return flow of water at the surface from west to east. This return flow occurs in a narrow band along the equator and is known as the Equatorial Counter Current.</p> </li> <li> <p>Upwelling: In some areas, especially off the coast of continents (like off the west coast of Africa in the Atlantic), cold water from the depths is brought to the surface due to the divergence of surface waters. This upwelling, especially in the eastern part of ocean basins, reinforces the east-west sea surface height gradient.</p> </li> </ul>"},{"location":"Clim_sfcwinds/#2-westerlies","title":"2. Westerlies","text":"<p>In the mid-latitudes (between 30\u00b0 and 60\u00b0), the prevailing winds are westerlies, blowing from west to east. These influence the formation of mid-latitude oceanic gyres.</p>"},{"location":"Clim_sfcwinds/#3-gyres","title":"3. Gyres","text":"<p>Large, circular loops of water present in main ocean basins. Each ocean basin typically has a gyre in both the northern and southern hemispheres. Gyres comprise: - Equatorial currents - Western boundary currents (e.g., the Gulf Stream in the North Atlantic) - Eastern boundary currents (e.g., the California Current in the North Pacific) - High-latitude currents</p>"},{"location":"Clim_sfcwinds/#4-coriolis-effect","title":"4. Coriolis Effect","text":"<p>Due to Earth's rotation, moving fluids deflect to the right in the Northern Hemisphere and to the left in the Southern Hemisphere. This effect is pivotal for the gyres and oceanic current direction.</p>"},{"location":"Clim_sfcwinds/#5-ekman-phenomena","title":"5. Ekman Phenomena","text":"<ul> <li>Ekman Spiral: A profile of water movement through depth with each successive layer moving at a slightly different angle due to the wind's influence and the Coriolis effect.</li> <li>Ekman Transport: The net transport of water resulting from the Ekman Spiral, typically at a 90\u00b0 angle to the wind direction.</li> </ul>"},{"location":"Clim_sfcwinds/#6-vertical-movements","title":"6. Vertical Movements","text":"<ul> <li>Upwelling: Where wind drives surface waters away, deeper, colder, nutrient-rich waters rise to the surface.</li> <li>Downwelling: In areas where wind pushes surface waters toward the coast or converges, water sinks.</li> </ul>"},{"location":"Clim_sfcwinds/#7-boundary-currents","title":"7. Boundary Currents","text":"<ul> <li>Western Boundary Currents: Narrow, fast, and deep currents (e.g., Gulf Stream, Kuroshio Current).</li> <li>Eastern Boundary Currents: Broader, slower, and shallower currents (e.g., California Current, Canary Current).</li> </ul> <p>Combined with thermohaline circulation, wind-driven circulation forms the global ocean conveyor belt, essential for redistributing heat, regulating climate</p>"},{"location":"Clim_sst/","title":"SST","text":"<p>This notebook present the climatologies of SST over global oceans</p> <pre><code># load basic library\n\n%config IPCompleter.greedy = True\n%matplotlib inline\n%config InlineBackend.figure_format='retina'\n%load_ext autoreload\n%autoreload 2\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\nimport numpy as np\nimport xarray as xr\nimport senpy as sp\n\nimport matplotlib.pyplot as plt\nplt.style.use('science')\n\n# load OISSTv2 SST over 1982-2022\nsst_ds = sp.OBS_onemodel_sst(model='OISSTv2', time_slice=slice('1982-01', '2022-12'))['sst']\n\n# add cyclic point\nsst_ds = sp.add_cyclic_point(sst_ds, dim='lon')\n\n# monthly climatology relative to 1991-2020 and anomalies\nsst_m = sst_ds.clim.climatology(clim_slice=slice('1991-01', '2020-12')).load()\nsst_a = sst_ds.clim.anomalies(clim_slice=slice('1991-01', '2020-12')).load()\n\n# annual mean climatology\nsst_ave_ann = sst_m.mean('month')\n\n# anomlaies standard deviation\nsst_std_ann = sst_a.std('time')\n\n# linear trend\nsst_trd_ann = sst_ds.trendSig(dim='time', sigmask=False, siglvl=0.05)\n</code></pre>"},{"location":"Clim_sst/#sst-climatological-annual-average","title":"SST climatological annual average","text":"<pre><code>sst_ave_cdict = sp.cmap.dict_cmap_contourf(levels=np.arange(0, 30, step=1), name='BlGrYeOrReVi200', extend='both') \n\nfig, ax = sp.map_subplots(1, 1, figsize=(10, 5), proj='robin', lon_0=200, aspect=1., layout='compressed')\n\nimag0 = ax.contourf(sst_ave_ann.lon, sst_ave_ann.lat, sst_ave_ann, transform=sp.data_crs, **sst_ave_cdict)\ncb = fig.colorbar(imag0, ax=[ax], location='right', shrink=0.9, pad=0.02)\ncb.set_label('\u2103')\n\nsp.map_coastline(ax, color='black')\nsp.map_landmask(ax, fc='gray', alpha=0.3)\nsp.map_ticks(ax, lon_ticks=np.arange(20, 380, step=60) )\nax.set_title(\"Climatological SST: 1991-2020\", fontsize=14, fontweight='bold')\n\n# Add dataset and map sources\nsource_text = \"\"\"\nSource credits: sst data from OISSTv2, figure was created by @senclimate\n\"\"\"\nax.text(0.5, -0.2, source_text, transform=ax.transAxes, \n        fontsize=10, color='black', alpha=0.8, \n        ha='center', va='bottom', zorder=6);\n</code></pre>"},{"location":"Clim_sst/#sst-anomalies-standard-deviation","title":"SST anomalies standard deviation","text":"<pre><code>sst_std_cdict = sp.cmap.dict_cmap_contourf(levels=np.arange(0, 1.61, step=0.05), name='WhiteBlueGreenYellowRed', extend='max') \n\nfig, ax = sp.map_subplots(1, 1, figsize=(10, 5), proj='robin', lon_0=200, aspect=1., layout='compressed')\n\nimag0 = ax.contourf(sst_std_ann.lon, sst_std_ann.lat, sst_std_ann, transform=sp.data_crs, **sst_std_cdict)\ncb = fig.colorbar(imag0, ax=[ax], location='right', shrink=0.9, pad=0.02)\ncb.set_label('\u2103')\n\nsp.map_coastline(ax, color='black')\nsp.map_landmask(ax, fc='gray', alpha=0.3)\nsp.map_ticks(ax, lon_ticks=np.arange(20, 380, step=60) )\nax.set_title(\"SST Anomaly Standard Deviation: 1982-2022\", fontsize=14, fontweight='bold')\n\n# Add dataset and map sources\nsource_text = \"\"\"\nSource credits: sst data from OISSTv2, figure was created by @senclimate\n\"\"\"\nax.text(0.5, -0.2, source_text, transform=ax.transAxes, \n        fontsize=10, color='black', alpha=0.8, \n        ha='center', va='bottom', zorder=6);\n</code></pre>"},{"location":"Clim_sst/#sst-linear-trends","title":"SST linear trends","text":"<pre><code>sst_trd_cdict = sp.cmap.dict_cmap_contourf(levels=np.arange(-0.8, 0.81, step=0.1), name='RdBu_r', extend='both')\n\nfig, ax = sp.map_subplots(1, 1, figsize=(10, 5), proj='robin', lon_0=200, aspect=1., layout='compressed')\n\nimag0 = ax.contourf(sst_trd_ann.lon, sst_trd_ann.lat, sst_trd_ann['s']*120, transform=sp.data_crs, **sst_trd_cdict)\ncb = fig.colorbar(imag0, ax=[ax], location='right', shrink=0.9, pad=0.02)\ncb.set_label('\u2103 per decade')\n\nCS = ax.contourf(sst_trd_ann.lon, sst_trd_ann.lat, sst_trd_ann['p'], transform=sp.data_crs, levels=[0, 0.05, 1], hatches=[\"\", \"...\"], alpha=0)\n\n\nsp.map_coastline(ax, color='black')\nsp.map_landmask(ax, fc='gray', alpha=0.3)\nsp.map_ticks(ax, lon_ticks=np.arange(20, 380, step=60) )\nax.set_title(\"SST Trends: 1982-2022\", fontsize=14, fontweight='bold')\n\n# Add dataset and map sources\nsource_text = \"\"\"\nSource credits: sst data from OISSTv2, figure was created by @senclimate\n\"\"\"\nax.text(0.5, -0.2, source_text, transform=ax.transAxes, \n        fontsize=10, color='black', alpha=0.8, \n        ha='center', va='bottom', zorder=6);\n</code></pre> <pre><code>\n</code></pre>"},{"location":"api/","title":"Api","text":"<p>Top-level package for climatestate.</p>"},{"location":"api/#climatestate.app","title":"<code>app</code>","text":"<p>Main module.</p>"},{"location":"authors/","title":"Authors","text":"<p>Sen Zhao is assistant researcher in University of Hawaii at Manoa.</p>"},{"location":"history/","title":"History","text":""},{"location":"history/#history","title":"History","text":""},{"location":"history/#010-2023-11-04","title":"0.1.0 (2023-11-04)","text":"<ul> <li>First release on PyPI.</li> </ul>"},{"location":"methods/","title":"Methods","text":""},{"location":"methods/#datasets","title":"Datasets","text":"<p>Monthly gridded observation/reanalysis datasets were used and listed as follows</p> <ul> <li> <p>Sea surface temperature (SST)</p> <ul> <li> <p>NOAA Extended Reconstructed Sea Surface Temperature (ERSST) V5 obtained from https://psl.noaa.gov/data/gridded/data.noaa.ersst.v5.html</p> </li> <li> <p>HadISST obtained from https://www.metoffice.gov.uk/hadobs/hadisst/</p> </li> <li> <p>COBE SST obtained from https://psl.noaa.gov/data/gridded/data.cobe.html</p> </li> </ul> </li> <li> <p>Precipitation</p> </li> <li> <p>CPC Merged Analysis of Precipitation (CMAP) obtained from https://psl.noaa.gov/data/gridded/data.cmap.html</p> </li> <li> <p>ERA5 reanalysis</p> </li> <li> <p>ORAS5 ocean reanalysis</p> </li> </ul>"},{"location":"methods/#data-processing","title":"Data Processing","text":"<p>All the climatology is calculated using the period of 1991-2020, unless specifically stated otherwise.</p>"},{"location":"Clim/","title":"Climatologies","text":"<p>Climatology and Variability of</p> <ul> <li> <p>SST</p> </li> <li> <p>Precipitation</p> </li> <li> <p>Surface winds</p> </li> </ul>"},{"location":"Clim/#features","title":"Features","text":""},{"location":"Clim/#mean","title":"Mean","text":"<pre><code>To be added\n</code></pre>"},{"location":"Clim/#month-to-interannual-variability","title":"Month-to-Interannual Variability","text":"<pre><code>To be added\n</code></pre>"},{"location":"Clim/#linear-trends","title":"Linear trends","text":"<pre><code>To be added\n</code></pre>"},{"location":"Clim/index_season/","title":"Seasonal Climatologies","text":"<p>Climatology and Variability of</p> <ul> <li> <p>SST</p> </li> <li> <p>Precipitation</p> </li> <li> <p>Surface winds</p> </li> </ul>"},{"location":"Clim/index_season/#features","title":"Features","text":""},{"location":"Clim/index_season/#mean","title":"Mean","text":"<pre><code>To be added\n</code></pre>"},{"location":"Clim/index_season/#month-to-interannual-variability","title":"Month-to-Interannual Variability","text":"<pre><code>To be added\n</code></pre>"},{"location":"Clim/index_season/#linear-trends","title":"Linear trends","text":"<pre><code>To be added\n</code></pre>"},{"location":"Modes/","title":"Modes of Variability","text":"<p>Climate variability and change are characterized in underlying space-time structure with perferred spatial patterns and temporal variations. Thus, a mode of variability is often considered to be the product of a spatial climate pattern and an associated index time series.</p> <p>The most well-known large-scale modes of variability are the El Nino Southern Oscillation (ENSO) and the North Atlantic Oscillation.</p>"},{"location":"blog/","title":"Blog","text":""}]}